<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta charset="utf-8"/>
    <title>API Documentation</title>
    <meta name="author" content=""/>
    <meta name="description" content=""/>

    <link href="../css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/prism.css" rel="stylesheet" media="all"/>
    <link href="../css/template.css" rel="stylesheet" media="all"/>
    
    <!--[if lt IE 9]>
    <script src="../js/html5.js"></script>
    <![endif]-->
    <script src="../js/jquery-1.11.0.min.js"></script>
    <script src="../js/ui/1.10.4/jquery-ui.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.smooth-scroll.js"></script>
    <script src="../js/prism.min.js"></script>
    <!-- TODO: Add http://jscrollpane.kelvinluck.com/ to style the scrollbars for browsers not using webkit-->
    <script type="text/javascript">
    function loadExternalCodeSnippets() {
        Array.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {
            var src = pre.getAttribute('data-src');
            var extension = (src.match(/\.(\w+)$/) || [, ''])[1];
            var language = 'php';

            var code = document.createElement('code');
            code.className = 'language-' + language;

            pre.textContent = '';

            code.textContent = 'Loading…';

            pre.appendChild(code);

            var xhr = new XMLHttpRequest();

            xhr.open('GET', src, true);

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {

                    if (xhr.status < 400 && xhr.responseText) {
                        code.textContent = xhr.responseText;

                        Prism.highlightElement(code);
                    }
                    else if (xhr.status >= 400) {
                        code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                    }
                    else {
                        code.textContent = '✖ Error: File does not exist or is empty';
                    }
                }
            };

            xhr.send(null);
        });
    }

    $(document).ready(function(){
        loadExternalCodeSnippets();
    });
    $('#source-view').on('shown', function () {
        loadExternalCodeSnippets();
    })
</script>

    <link rel="shortcut icon" href="../images/favicon.ico"/>
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
</head>
<body>

<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <i class="icon-ellipsis-vertical"></i>
            </a>
            <a class="brand" href="../index.html">API Documentation</a>

            <div class="nav-collapse">
                <ul class="nav pull-right">
                                        <li class="dropdown" id="charts-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Charts <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../graphs/class.html">
                                    <i class="icon-list-alt"></i>&#160;Class hierarchy diagram
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown" id="reports-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Reports <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../reports/errors.html">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="icon-list-alt"></i>&#160;Errors <span class="label label-info pull-right">36</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/markers.html">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="icon-list-alt"></i>&#160;Markers <span class="label label-info pull-right">1</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/deprecated.html">
                                                                                                            <i class="icon-list-alt"></i>&#160;Deprecated <span class="label label-info pull-right">0</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--<div class="go_to_top">-->
    <!--<a href="#___" style="color: inherit">Back to top&#160;&#160;<i class="icon-upload icon-white"></i></a>-->
    <!--</div>-->
</div>

<div id="___" class="container-fluid">
        <section class="row-fluid">
        <div class="span2 sidebar">
                                <div class="accordion" style="margin-bottom: 0">
        <div class="accordion-group">
            <div class="accordion-heading">
                                    <a class="accordion-toggle " data-toggle="collapse" data-target="#namespace-231517906"></a>
                                <a href="../namespaces/default.html" style="margin-left: 30px; padding-left: 0">\</a>
            </div>
            <div id="namespace-231517906" class="accordion-body collapse in">
                <div class="accordion-inner">

                    
                    <ul>
                                                                                                    <li class="class"><a href="../classes/swoole_atomic.html">swoole_atomic</a></li>
                                                    <li class="class"><a href="../classes/swoole_buffer.html">swoole_buffer</a></li>
                                                    <li class="class"><a href="../classes/swoole_client.html">swoole_client</a></li>
                                                    <li class="class"><a href="../classes/swoole_http_request.html">swoole_http_request</a></li>
                                                    <li class="class"><a href="../classes/swoole_http_response.html">swoole_http_response</a></li>
                                                    <li class="class"><a href="../classes/swoole_http_server.html">swoole_http_server</a></li>
                                                    <li class="class"><a href="../classes/swoole_lock.html">swoole_lock</a></li>
                                                    <li class="class"><a href="../classes/swoole_process.html">swoole_process</a></li>
                                                    <li class="class"><a href="../classes/swoole_server.html">swoole_server</a></li>
                                                    <li class="class"><a href="../classes/swoole_table.html">swoole_table</a></li>
                                                    <li class="class"><a href="../classes/swoole_websocket_server.html">swoole_websocket_server</a></li>
                                            </ul>
                </div>
            </div>
        </div>
    </div>

        </div>
    </section>
    <section class="row-fluid">
        <div class="span10 offset2">
            <div class="row-fluid">
                <div class="span8 content class">
                    <nav>
                                                <a href="../namespaces/default.html">\</a> <i class="icon-level-up"></i>
                                            </nav>
                    <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal"><i class="icon-code"></i></a>

                    <h1><small>\</small>swoole_server</h1>
                    <p><em>TCP / UDP Server</em></p>
                    
                    
                                        
                    <section id="summary">
                        <h2>Summary</h2>
                        <section class="row-fluid heading">
                            <section class="span4">
                                <a href="#methods">Methods</a>
                            </section>
                            <section class="span4">
                                <a href="#properties">Properties</a>
                            </section>
                            <section class="span4">
                                <a href="#constants">Constants</a>
                            </section>
                        </section>
                        <section class="row-fluid public">
                            <section class="span4">
                                                                    <a href="../classes/swoole_server.html#method___construct" class="">__construct()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_on" class="">on()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_set" class="">set()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_start" class="">start()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_send" class="">send()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_sendto" class="">sendto()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_close" class="">close()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_taskwait" class="">taskwait()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_task" class="">task()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_sendMessage" class="">sendMessage()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_finish" class="">finish()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_heartbeat" class="">heartbeat()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_connection_info" class="">connection_info()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_connection_list" class="">connection_list()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_reload" class="">reload()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_shutdown" class="">shutdown()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_addlistener" class="">addlistener()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_stats" class="">stats()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_after" class="">after()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_listen" class="">listen()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_addProcess" class="">addProcess()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_addtimer" class="">addtimer()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_deltimer" class="">deltimer()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_tick" class="">tick()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_clearAfter" class="">clearAfter()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_handler" class="">handler()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_sendfile" class="">sendfile()</a><br />
                                                                    <a href="../classes/swoole_server.html#method_bind" class="">bind()</a><br />
                                                            </section>
                            <section class="span4">
                                                                    <a href="../classes/swoole_server.html#property_setting" class="">$setting</a><br />
                                                                    <a href="../classes/swoole_server.html#property_master_pid" class="">$master_pid</a><br />
                                                                    <a href="../classes/swoole_server.html#property_manager_pid" class="">$manager_pid</a><br />
                                                                    <a href="../classes/swoole_server.html#property_worker_id" class="">$worker_id</a><br />
                                                                    <a href="../classes/swoole_server.html#property_worker_pid" class="">$worker_pid</a><br />
                                                                    <a href="../classes/swoole_server.html#property_taskworker" class="">$taskworker</a><br />
                                                                    <a href="../classes/swoole_server.html#property_connections" class="">$connections</a><br />
                                                            </section>
                            <section class="span4">
                                                                    <em>No constants found</em>
                                                            </section>
                        </section>
                        <section class="row-fluid protected">
                            <section class="span4">
                                                                    <em>No protected methods found</em>
                                                            </section>
                            <section class="span4">
                                                                    <em>No protected properties found</em>
                                                            </section>
                            <section class="span4">
                                <em>N/A</em>
                            </section>
                        </section>
                        <section class="row-fluid private">
                            <section class="span4">
                                                                    <em>No private methods found</em>
                                                            </section>
                            <section class="span4">
                                                                    <em>No private properties found</em>
                                                            </section>
                            <section class="span4">
                                <em>N/A</em>
                            </section>
                        </section>
                    </section>
                </div>
                <aside class="span4 detailsbar">
                                        
                    
                    <dl>
                        <dt>File</dt>
                            <dd><a href="../files/swoole_server.html"><div class="path-wrapper">swoole_server.php</div></a></dd>
                                                <dt>Package</dt>
                            <dd><div class="namespace-wrapper">Swoole</div></dd>
                                                <dt>Class hierarchy</dt>
                            <dd class="hierarchy">
                                                                                                                                                                    <div class="namespace-wrapper">\swoole_server</div>
                            </dd>

                        
                        
                        
                        
                                                                        </dl>
                    <h2>Tags</h2>
                    <table class="table table-condensed">
                                            <tr><td colspan="2"><em>None found</em></td></tr>
                                        </table>
                </aside>
            </div>

                        
                                    <a id="properties" name="properties"></a>
            <div class="row-fluid">
                <div class="span8 content class">
                    <h2>Properties</h2>
                </div>
                <aside class="span4 detailsbar"></aside>
            </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="property_setting" name="property_setting" class="anchor"></a>
            <article class="property">
                <h3 class="public ">$setting</h3>
                <pre class="signature">$setting : array</pre>
                <p><em>swoole_server::set() function to set setting</em></p>
                

                                <h4>Type</h4>
                array
                                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                        <dl>
                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="property_master_pid" name="property_master_pid" class="anchor"></a>
            <article class="property">
                <h3 class="public ">$master_pid</h3>
                <pre class="signature">$master_pid : integer</pre>
                <p><em>Main process PID</em></p>
                

                                <h4>Type</h4>
                integer
                                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                        <dl>
                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="property_manager_pid" name="property_manager_pid" class="anchor"></a>
            <article class="property">
                <h3 class="public ">$manager_pid</h3>
                <pre class="signature">$manager_pid : integer</pre>
                <p><em>Server management process PID</em></p>
                <p>Only available after onStart / onWorkerStart</p>

                                <h4>Type</h4>
                integer
                                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                        <dl>
                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="property_worker_id" name="property_worker_id" class="anchor"></a>
            <article class="property">
                <h3 class="public ">$worker_id</h3>
                <pre class="signature">$worker_id : integer</pre>
                <p><em>The current number Worker process</em></p>
                <ul>
<li>Worker process ID range is [0, $serv-&gt;setting['worker_num'])</li>
<li>Task process ID range is [$serv-&gt;setting['worker_num'], $serv-&gt;setting['worker_num'] + $serv-&gt;setting['task_worker_num'])</li>
</ul>
<p>On restart, workers process id is unchanged</p>

                                <h4>Type</h4>
                integer
                                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                        <dl>
                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="property_worker_pid" name="property_worker_pid" class="anchor"></a>
            <article class="property">
                <h3 class="public ">$worker_pid</h3>
                <pre class="signature">$worker_pid : integer</pre>
                <p><em>Current Worker process ID, 0 - ($serv-&gt;setting[worker_num]-1)</em></p>
                

                                <h4>Type</h4>
                integer
                                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                        <dl>
                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="property_taskworker" name="property_taskworker" class="anchor"></a>
            <article class="property">
                <h3 class="public ">$taskworker</h3>
                <pre class="signature">$taskworker : boolean</pre>
                <p><em>Id a Task worker process</em></p>
                <p>true indicates that the current process is a Task work process
false indicates that the current process is a Worker Process</p>

                                <h4>Type</h4>
                boolean
                                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                        <dl>
                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="property_connections" name="property_connections" class="anchor"></a>
            <article class="property">
                <h3 class="public ">$connections</h3>
                <pre class="signature">$connections : array</pre>
                <p><em>TCP connection iterator for all current server connections, same than swoole_server-&gt;connnection_list(), but more friendly.</em></p>
                <p>Rely pcre library, if not installed, you cannot use this function</p>
<pre><code class="language-php">foreach($server-&gt;connections as $fd)
{
  $server-&gt;send($fd, "hello");
}

echo "Current server connections : ".count($server-&gt;connections). "\n";</code></pre>

                                <h4>Type</h4>
                array
                                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                        <dl>
                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                                            
                                    <a id="methods" name="methods"></a>
            <div class="row-fluid">
                <div class="span8 content class"><h2>Methods</h2></div>
                <aside class="span4 detailsbar"></aside>
            </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method___construct" name="method___construct" class="anchor"></a>
            <article class="method">
                <h3 class="public ">__construct()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">__construct(string  <span class="argument">$host</span>, integer  <span class="argument">$port</span>, integer  <span class="argument">$mode = SWOOLE_PROCESS</span>, integer  <span class="argument">$sock_type = SWOOLE_SOCK_TCP</span>) </pre>
                <p><em>Swoole_server Constructor</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>string</td>
                                <td>$host </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$port </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$mode </td>
                                <td><p>SWOOLE_BASE, SWOOLE_THREAD, SWOOLE_PROCESS, SWOOLE_PACKET</p></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$sock_type </td>
                                <td><p>SWOOLE_SOCK_TCP, SWOOLE_SOCK_TCP6, SWOOLE_SOCK_UDP, SWOOLE_SOCK_UDP6, SWOOLE_SOCK_UNIX_DGRAM, SWOOLE_SOCK_UNIX_STREAM, If you want use ssl just or (|) your current socket type with SWOOLE_SSL</p></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_on" name="method_on" class="anchor"></a>
            <article class="method">
                <h3 class="public ">on()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">on(string  <span class="argument">$event</span>, mixed  <span class="argument">$callback</span>) </pre>
                <p><em>Register event callback function</em></p>
                <p>swoole_server-&gt;on &amp; swoole_http_server-&gt;on are the same except swoole_http_server :</p>
<ul>
<li>not accepting onConnect/onReceive callback</li>
<li>accept events onRequest</li>
</ul>
<p><strong>Event List:</strong></p>
<ul>
<li>onStart</li>
<li>onShutdown</li>
<li>onWorkerStart</li>
<li>onWorkerStop</li>
<li>onTimer</li>
<li>onConnect</li>
<li>onReceive</li>
<li>onClose</li>
<li>onTask</li>
<li>onFinish</li>
<li>onPipeMessage</li>
<li>onWorkerError</li>
<li>onManagerStart</li>
<li>onManagerStop</li>
</ul>
<pre><code class="language-php">$http_server-&gt;on('request', function(swoole_http_request $request, swoole_http_response $response) {
  $response-&gt;end("&lt;h1&gt;hello swoole&lt;/h1&gt;");
})</code></pre>
<p>The callback function must have 2 parameters</p>
<ul>
<li>$request，Http Request object that contains the header / get / post / cookie and other related information</li>
<li>$response，Http Response object that supports cookie / header / status, etc...</li>
</ul>
<p>!! if $response/$request object passed to other functions, do not add a reference symbol &amp;</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>string</td>
                                <td>$event </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>mixed</td>
                                <td>$callback </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_set" name="method_set" class="anchor"></a>
            <article class="method">
                <h3 class="public ">set()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">set(array  <span class="argument">$setting</span>) </pre>
                <p><em>Set run-time parameter is used to set various parameters swoole_server runtime.</em></p>
                <p>After the server starts, use $serv-&gt;setting to have this settings.</p>
<pre><code class="language-php">$setting["chroot"]; // string : chroot
$setting["user"]; // int : unix user
$setting["group"]; // string : unix group
$setting["daemonize"]; // bool : daemonize
$setting["backlog"]; // int : backlog
$setting["reactor_num"]; // int : reactor thread num
$setting["worker_num"]; // int : worker num
$setting["discard_timeout_request"]; // bool : ??
$setting["enable_unsafe_event"]; // bool : ??
$setting["task_worker_num"]; // int : task worker num
$setting["task_worker_max"]; // int : maximum task worker
$setting["task_ipc_mode"]; // int : 1, 2, 3
$setting["task_tmpdir"]; // string : Temporary file directory for task_worker
$setting["max_connection"]; // int : max_connection
$setting["max_request"]; // int : max_request
$setting["task_max_request"]; // int : task_max_request
$setting["open_cpu_affinity"]; // bool: cpu affinity
$setting["cpu_affinity_ignore"]; // ?? : cpu affinity set
$setting["open_tcp_nodelay"]; // bool : tcp_nodelay
$setting["tcp_defer_accept"]; // int : tcp_defer_accept
$setting["enable_port_reuse"]; // bool : port reuse
$setting["open_tcp_keepalive"]; // bool : tcp_keepalive
$setting["open_eof_split"]; // bool : buffer: split package with eof
$setting["package_eof"]; // string : package eof
$setting["open_http_protocol"]; // bool : buffer: http_protocol
$setting["http_parse_post"]; // bool : parse x-www-form-urlencoded form data
$setting["open_mqtt_protocol"]; // bool : buffer: mqtt protocol
$setting["tcp_keepidle"]; // int : tcp_keepidle
$setting["tcp_keepinterval"]; // int : tcp_keepinterval
$setting["tcp_keepcount"]; // int : tcp_keepcount
$setting["dispatch_mode"]; // int : dispatch_mode
$setting["open_dispatch_key"]; // int : open_dispatch_key
$setting["dispatch_key_type"]; // string : dispatch_key_type see pack(). Link: http://php.net/pack
$setting["dispatch_key_offset"]; // int : dispatch_key_offset
$setting["log_file"]; // string : log_file
$setting["heartbeat_check_interval"]; // int : heartbeat_check_interval
$setting["heartbeat_idle_time"]; // int : heartbeat idle time, heartbeat_idle_time must be greater than heartbeat_check_interval
$setting["heartbeat_ping"]; // string : heartbeat_ping, max 8 chars
$setting["heartbeat_pong"]; // string : heartbeat_pong, max 8 chars
$setting["open_length_check"]; // bool : open length check
$setting["package_length_type"]; // string : package length size
$setting["package_length_offset"]; // int : package length offset
$setting["package_body_start"]; // int : package body start
$setting["buffer_input_size"]; // int : buffer input size
$setting["buffer_output_size"]; // int : buffer output size
$setting["pipe_buffer_size"]; // int : set pipe memory buffer size
$setting["ssl_cert_file"]; // string : ssl_cert_file
$setting["ssl_key_file"]; // int : ssl_key_file
$setting["ssl_method"]; // int : ssl_method</code></pre>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>array</td>
                                <td>$setting </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_start" name="method_start" class="anchor"></a>
            <article class="method">
                <h3 class="public ">start()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">start() : boolean</pre>
                <p><em>Start server, listens to all TCP / UDP port</em></p>
                <p>Creates worker_num + 2 processes after the successful launch. Main process + Manager process + worker_num</p>

                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_send" name="method_send" class="anchor"></a>
            <article class="method">
                <h3 class="public ">send()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">send(integer  <span class="argument">$fd</span>, string  <span class="argument">$data</span>, integer  <span class="argument">$from_id</span>) : boolean</pre>
                <p><em>Send the data to the client</em></p>
                <ul>
<li>$data，TCP protocol can not exceed 2M, UDP protocol can not exceed 64K</li>
<li>on sucess, returns true</li>
<li>on failure, returns false if the connection has been closed or failed to send</li>
</ul>
<p>TCP server</p>
<ul>
<li>Send operations are atomic, if multiple processes simultaneously send data to the same connection, the data will not be corrupted</li>
<li>If more than 2M of data to be transmitted, the data can be written to a temporary file, and then sent via sendfile Interface</li>
</ul>
<p>Swoole-1.6 or later does not need $from_id</p>
<p>UDP server</p>
<ul>
<li>Send operations will send data packets directly by the worker process, will not be forwarded through the primary process</li>
<li>Use fd to save the client IP，from_id, from_fd &amp; port</li>
<li>If you send data immediately after onReceive, you don't need to pass $from_id</li>
<li>if you send data to others client, you must be pass from_id</li>
<li>Outside your netwoork, if you send more than 64K, data will be transmitted into several message, if one message is lost, it would cause the entire packet is discarded, we recommend sending packets below 1.5K</li>
</ul>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$fd </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>string</td>
                                <td>$data </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$from_id </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_sendto" name="method_sendto" class="anchor"></a>
            <article class="method">
                <h3 class="public ">sendto()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">sendto(string  <span class="argument">$ip</span>, integer  <span class="argument">$port</span>, string  <span class="argument">$data</span>, boolean  <span class="argument">$ipv6 = false</span>) : boolean</pre>
                <p><em>Send UDP packets to any ip:port</em></p>
                <p>Example</p>
<pre><code class="language-php">// send a hello world string to host 220.181.57.216 &amp; port 9502
$server-&gt;sendto('220.181.57.216', 9502, "hello world");
// send UDP packets to IPv6 server
$server-&gt;sendto('2600:3c00::f03c:91ff:fe73:e98f', 9501, "hello world", true);</code></pre>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>string</td>
                                <td>$ip </td>
                                <td><p>as IPv4 string, such as 192.168.1.102. If the IP is not legitimate returns an error</p></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$port </td>
                                <td><p>is the network port number 1-65535, if the port fails Send</p></td>
                            </tr>
                                                    <tr>
                                <td>string</td>
                                <td>$data </td>
                                <td><p>data content, which can be text or binary content</p></td>
                            </tr>
                                                    <tr>
                                <td>boolean</td>
                                <td>$ipv6 </td>
                                <td><p>whether the IPv6 address, optional parameters, defaults to false</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_close" name="method_close" class="anchor"></a>
            <article class="method">
                <h3 class="public ">close()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">close(integer  <span class="argument">$fd</span>, integer  <span class="argument">$from_id</span>) : boolean</pre>
                <p><em>Turn off client connection</em></p>
                <p>!! Swoole-1.6 or later does not need $from_id</p>
<p>Operation successful return true, otherwise returns false.</p>
<p>When the server close the connection, the server will trigger onClose event.
Do not write clean-up logic on close method, OnClose callback should handle this.</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$fd </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$from_id </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_taskwait" name="method_taskwait" class="anchor"></a>
            <article class="method">
                <h3 class="public ">taskwait()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">taskwait(mixed  <span class="argument">$task_data</span>, float  <span class="argument">$timeout = 0.5</span>, integer  <span class="argument">$dst_worker_id = -1</span>) : string</pre>
                <p><em>Deliver a synchronous task to task_worker pool.</em></p>
                <p>taskwait will block until the task is completed or $timeout reach
It return the result like the $serv-&gt;finish function. If this task timeout, where returns false.</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>mixed</td>
                                <td>$task_data </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>float</td>
                                <td>$timeout </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$dst_worker_id </td>
                                <td><p>give the task to a specific process id, default is random delivery</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    string
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_task" name="method_task" class="anchor"></a>
            <article class="method">
                <h3 class="public ">task()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">task(mixed  <span class="argument">$data</span>, integer  <span class="argument">$dst_worker_id = -1</span>) : boolean|integer</pre>
                <p><em>Deliver an asynchronous task to task_worker pool.</em></p>
                <p>This function returns immediately. worker process can continue to process a new request
The return value is an integer ($task_id), represents this task ID. onFinish event call will carry the $task_id.</p>
<p>This function is used to run slow task asynchronously. For example in chat room server, you can use it to send a broadcast. When the task is completed, the task calls $serv-&gt;finish(&quot;finish&quot;) told the worker process this task has been completed. Of course swoole_server-&gt;finish is optional.</p>
<p>     <em> - AsyncTask 1.6.4 version adds features not started by default task function, you need to manually set to start this function task_worker_num
     </em> - Number task_worker settings are set in swoole_server::set, example task_worker_num =&gt; 64 will have 64 slots for asynchronous tasks</p>
<p>Precautions</p>
<ul>
<li>Use swoole_server_task to set onTask and onFinish callback Server, otherwise swoole_server-&gt;start will fail</li>
<li>The number of task operation must be lower than onTask processing speed, if not, task will fill buffer, resulting blocking the worker process, worker process will not receive any new request</li>
</ul>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>mixed</td>
                                <td>$data </td>
                                <td><p>data to send to task_worker process</p></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$dst_worker_id </td>
                                <td><p>deliver the task to process id,</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean|integer
                                            &mdash; <p>task_id on sucess,</p>
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_sendMessage" name="method_sendMessage" class="anchor"></a>
            <article class="method">
                <h3 class="public ">sendMessage()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">sendMessage(string  <span class="argument">$message</span>, integer  <span class="argument">$dst_worker_id = -1</span>) : boolean</pre>
                <p><em>This function can send messages to any worker process or task process.</em></p>
                <p>You can call it in worker processes and management processes.
Process that receives the message will trigger onPipeMessage event</p>
<p>!! You must register onPipeMessage event to be able to use this fonction</p>
<pre><code class="language-php">$serv = new swoole_server("0.0.0.0", 9501);
$serv-&gt;set(array(
    'worker_num' =&gt; 2,
    'task_worker_num' =&gt; 2,
));
$serv-&gt;on('pipeMessage', function($serv, $src_worker_id, $data) {
    echo "#{$serv-&gt;worker_id} message from #$src_worker_id: $data\n";
});
$serv-&gt;on('task', function ($serv, $task_id, $from_id, $data){
    var_dump($task_id, $from_id, $data);
});
$serv-&gt;on('finish', function ($serv, $fd, $from_id){

});
$serv-&gt;on('receive', function (swoole_server $serv, $fd, $from_id, $data) {
    if (trim($data) == 'task')
    {
        $serv-&gt;task("async task coming");
    }
    else
    {
        $worker_id = 1 - $serv-&gt;worker_id;
        $serv-&gt;sendMessage("hello task process", $worker_id);
    }
});

$serv-&gt;start();</code></pre>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>string</td>
                                <td>$message </td>
                                <td><p>the message sent</p></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$dst_worker_id </td>
                                <td><p>to target a specific process Id (in range 0 ~ (worker_num + task_worker_num - 1))</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_finish" name="method_finish" class="anchor"></a>
            <article class="method">
                <h3 class="public ">finish()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">finish(string  <span class="argument">$task_data</span>) </pre>
                <p><em>This function is used to notify the worker process that task is completed from task process.</em></p>
                <p>This function can be passed to the worker process result data</p>
<pre><code class="language-php">$serv-&gt;finish("response");</code></pre>
<p>You must set the onFinish callback function to receive the data.
OnTask callback function is only available for task process</p>
<p>swoole_server::finish is optional. If the worker process does not care about the results of task execution, you do not need to call this function
onTask callback function is equivalent to calling finish</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>string</td>
                                <td>$task_data </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_heartbeat" name="method_heartbeat" class="anchor"></a>
            <article class="method">
                <h3 class="public ">heartbeat()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">heartbeat(boolean  <span class="argument">$if_close_connection = true</span>) : array|boolean</pre>
                <p><em>Heartbeat</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>boolean</td>
                                <td>$if_close_connection </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    array|boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr>
                        <th>
                            todo
                        </th>
                        <td>
                                                                                            
                                                    </td>
                    </tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_connection_info" name="method_connection_info" class="anchor"></a>
            <article class="method">
                <h3 class="public ">connection_info()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">connection_info(integer  <span class="argument">$fd</span>, integer  <span class="argument">$from_id = -1</span>) : array|boolean</pre>
                <p><em>Get information about the connection</em></p>
                <p>connection_info for UDP server can be used but you need to pass $from_id</p>
<pre><code class="language-php">array (
  'from_id' =&gt; 0,
  'from_fd' =&gt; 12,
  'connect_time' =&gt; 1392895129,
  'last_time' =&gt; 1392895137,
  'from_port' =&gt; 9501,
  'remote_port' =&gt; 48918,
  'remote_ip' =&gt; '127.0.0.1',
);

$udp_client = $serv-&gt;connection_info($fd, $from_id);
var_dump($udp_client);</code></pre>
<ul>
<li>from_id Reactor thread id</li>
<li>server_fd Server Socket file description</li>
<li>server_port Server Remote port</li>
<li>remote_port Client remote port</li>
<li>remote_ip Client remote ip</li>
<li>connect_time connection timestamp</li>
<li>last_time last timestamp where data were sent</li>
</ul>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$fd </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$from_id </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    array|boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_connection_list" name="method_connection_list" class="anchor"></a>
            <article class="method">
                <h3 class="public ">connection_list()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">connection_list(integer  <span class="argument">$start_fd = -1</span>, integer  <span class="argument">$pagesize = 100</span>) : array</pre>
                <p><em>Get all client connections</em></p>
                <p>This method is based on a shared memory, there is no IOWait, iterate quickly.
Also connection_list returns all TCP connections, not just the current worker process TCP connection</p>
<p>Example:</p>
<pre><code class="language-php">$start_fd = 0;
while(true)
{
    $conn_list = $serv-&gt;connection_list($start_fd, 10);
    if($conn_list===false or count($conn_list) === 0)
    {
        echo "finish\n";
        break;
    }
    $start_fd = end($conn_list);
    var_dump($conn_list);
    foreach($conn_list as $fd)
    {
        $serv-&gt;send($fd, "broadcast");
    }
}</code></pre>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$start_fd </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$pagesize </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    array
                                            &mdash; <p>| bool</p>
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_reload" name="method_reload" class="anchor"></a>
            <article class="method">
                <h3 class="public ">reload()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">reload() : boolean</pre>
                <p><em>Reload all worker processes</em></p>
                <ul>
<li>SIGTERM: If this signal is sent to main process, the main server process will terminate gracefully. In php, call $serv-&gt;shutdown()</li>
<li>SIGUSR1: If this signal is sent to management proces, all the workers process will be gracefully restart. In php, call $serv-&gt;reload().</li>
</ul>
<p>Swoole reload has a protective mechanism, when a reload is in progress, a new restart signal will be discarded</p>
<pre><code class="language-php">     * # Restart all worker processes
     * kill -USR1 [MainProcessPID]
     * # Restart only all task worker processes
     * kill -USR2 [MainProcessPID]</code></pre>
<p>     <em> For configuration that is set with $serv-&gt;set, you must close / restart the entire server before you can reload
     </em> Server can monitor a network port, and can receive remote control commands, to reset all worker</p>

                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_shutdown" name="method_shutdown" class="anchor"></a>
            <article class="method">
                <h3 class="public ">shutdown()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">shutdown() : boolean</pre>
                <p><em>Shutdown server</em></p>
                <p>This function can be used in the worker process. Send SIGTERM to the main process will also work</p>

                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_addlistener" name="method_addlistener" class="anchor"></a>
            <article class="method">
                <h3 class="public ">addlistener()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">addlistener(string  <span class="argument">$host</span>, integer  <span class="argument">$port</span>, integer  <span class="argument">$type = SWOOLE_SOCK_TCP</span>) </pre>
                <p><em>Add a listenning port &amp; protocol.</em></p>
                <p>call swoole_server::connection_info to know what is the incoming port for this request.
You can mix UDP/TCP on the same port</p>
<ul>
<li>SWOOLE_TCP/SWOOLE_SOCK_TCP tcp ipv4 socket</li>
<li>SWOOLE_TCP6/SWOOLE_SOCK_TCP6 tcp ipv6 socket</li>
<li>SWOOLE_UDP/SWOOLE_SOCK_UDP udp ipv4 socket</li>
<li>SWOOLE_UDP6/SWOOLE_SOCK_UDP6 udp ipv6 socket</li>
<li>SWOOLE_UNIX_DGRAM unix socket dgram</li>
<li>SWOOLE_UNIX_STREAM unix socket stream</li>
</ul>
<p>Examples:</p>
<pre><code class="language-php">$serv-&gt;addlistener("127.0.0.1", 9502, SWOOLE_SOCK_TCP);
$serv-&gt;addlistener("192.168.1.100", 9503, SWOOLE_SOCK_TCP);
$serv-&gt;addlistener("0.0.0.0", 9504, SWOOLE_SOCK_UDP);
$serv-&gt;addlistener("/var/run/myserv.sock", 0, SWOOLE_UNIX_STREAM);</code></pre>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>string</td>
                                <td>$host </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$port </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$type </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_stats" name="method_stats" class="anchor"></a>
            <article class="method">
                <h3 class="public ">stats()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">stats() : array</pre>
                <p><em>Get information about connections &amp; task jobs</em></p>
                <pre><code class="language-php">array (
  'start_time' =&gt; 1409831644,
  'connection_num' =&gt; 1,
  'accept_count' =&gt; 1,
  'close_count' =&gt; 0,
);</code></pre>
<ul>
<li>start_time : Server start time</li>
<li>connection_num : Number of currently connected connections</li>
<li>accept_count : Number of accepted connections</li>
<li>close_count : Number of closed connections</li>
<li>tasking_num : Number of task jobs in queues</li>
</ul>

                
                
                                    <h4>Returns</h4>
                    array
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_after" name="method_after" class="anchor"></a>
            <article class="method">
                <h3 class="public ">after()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">after(integer  <span class="argument">$after_time_ms</span>, mixed  <span class="argument">$callback_function</span>, mixed  <span class="argument">$param = null</span>) </pre>
                <p><em>Perform action after the specify time</em></p>
                <p>swoole_server::after is only 1 trigger deleted after the first execution
This method is an alias swoole_timer_after function</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$after_time_ms </td>
                                <td><p>in milliseconds &lt; 86 400 000</p></td>
                            </tr>
                                                    <tr>
                                <td>mixed</td>
                                <td>$callback_function </td>
                                <td><p>executed after $after_time_ms, must be callable and callback does'nt accept any arguments</p></td>
                            </tr>
                                                    <tr>
                                <td>mixed</td>
                                <td>$param </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_listen" name="method_listen" class="anchor"></a>
            <article class="method">
                <h3 class="public ">listen()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">listen(  <span class="argument">$host</span>,   <span class="argument">$port</span>,   <span class="argument">$type = SWOOLE_SOCK_TCP</span>) : boolean</pre>
                <p><em>Start listening on host:port:type</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$host </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$port </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$type </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_addProcess" name="method_addProcess" class="anchor"></a>
            <article class="method">
                <h3 class="public ">addProcess()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">addProcess(\swoole_process  <span class="argument">$process</span>) </pre>
                <p><em>Add of user defined workers process</em></p>
                <ul>
<li>
<ul>
<li>$process is swoole_process objects. You don't need to start it, The process is automatically created when swoole_server starts. The child process can be created by calling various methods provided $server objects, such as connection_list / connection_info / stats
     <em> - In worker process, you can invoke methods provided for process and sub-process communication
     </em> - This function is typically used to create a special work processes for monitoring, reporting, or other special tasks.</li>
</ul>
</li>
</ul>
<p>The child process will be hosted Manager process, if a fatal error occurs, manager process will re-create it</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td><a href="../classes/swoole_process.html">\swoole_process</a></td>
                                <td>$process </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_addtimer" name="method_addtimer" class="anchor"></a>
            <article class="method">
                <h3 class="public ">addtimer()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">addtimer(integer  <span class="argument">$interval</span>) : boolean</pre>
                <p><em>Add a timer</em></p>
                <p>The timer is in millisecond &amp; support for multiple timers.
This function can be used in worker process.</p>
<p>Addtimer must only be used in onStart / onWorkerStart / onConnect / onReceive / onClose and other callback, otherwise it will throw an error and the timer will not be valid
     * Two identical timer will be forced in only one entry</p>
<p>     * You need to set the onTimer callback, or Server will not start.
In this function, you need to watch the timer value in order to know what action must be done.</p>
<pre><code class="language-php">// Object-oriented style
$serv-&gt;addtimer(1000); //1s
$serv-&gt;addtimer(20); //20ms</code></pre>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$interval </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_deltimer" name="method_deltimer" class="anchor"></a>
            <article class="method">
                <h3 class="public ">deltimer()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">deltimer(integer  <span class="argument">$interval</span>) </pre>
                <p><em>Delete a timer</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$interval </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_tick" name="method_tick" class="anchor"></a>
            <article class="method">
                <h3 class="public ">tick()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">tick(integer  <span class="argument">$interval_ms</span>, mixed  <span class="argument">$callback</span>, mixed  <span class="argument">$param = null</span>) : integer</pre>
                <p><em>Add a tick timer</em></p>
                <ul>
<li>You can set a callback function.
This function is an alias swoole_timer_tick
     <em>
     </em> After the worker process finishes running, all timers will self-destruct.
     <em>
     </em> When you set tick interval, the callback function will be call after $interval_ms until you call swoole_timer_clear.   * The difference with swoole_timer_add is that multiple timers with same interval can exists.</li>
</ul>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$interval_ms </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>mixed</td>
                                <td>$callback </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>mixed</td>
                                <td>$param </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    integer
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_clearAfter" name="method_clearAfter" class="anchor"></a>
            <article class="method">
                <h3 class="public ">clearAfter()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">clearAfter(  <span class="argument">$id</span>) </pre>
                <p><em>Clear a tick</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$id </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_handler" name="method_handler" class="anchor"></a>
            <article class="method">
                <h3 class="public ">handler()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">handler(string  <span class="argument">$event_name</span>, mixed  <span class="argument">$event_callback_function</span>) : boolean</pre>
                <p><em>Set server callback function</em></p>
                <p>like set and on, handler must be defined before swoole_server::start</p>
<p><strong>Event List:</strong></p>
<ul>
<li>onStart</li>
<li>onConnect</li>
<li>onReceive</li>
<li>onClose</li>
<li>onShutdown</li>
<li>onTimer</li>
<li>onWorkerStart</li>
<li>onWorkerStop</li>
<li>onMasterConnect</li>
<li>onMasterClose</li>
<li>onTask</li>
<li>onFinish</li>
<li>onWorkerError</li>
<li>onManagerStart</li>
<li>onManagerStop</li>
<li>onPipeMessage</li>
</ul>
<pre><code class="language-php">$serv-&gt;handler('onStart', 'my_onStart');
$serv-&gt;handler('onStart', array($this, 'my_onStart'));
$serv-&gt;handler('onStart', 'myClass::onStart');</code></pre>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>string</td>
                                <td>$event_name </td>
                                <td><p>the name of the callback that is not case sensitive</p></td>
                            </tr>
                                                    <tr>
                                <td>mixed</td>
                                <td>$event_callback_function </td>
                                <td><p>PHP callback function, it can be a string, an array of anonymous functions</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_sendfile" name="method_sendfile" class="anchor"></a>
            <article class="method">
                <h3 class="public ">sendfile()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">sendfile(integer  <span class="argument">$fd</span>, string  <span class="argument">$filename</span>) : boolean</pre>
                <p><em>Send files to a TCP client connections</em></p>
                <ul>
<li>Call sendfile system call provided by the OS, read and write files directly from the operating system socket.
Sendfile only do 2 memory copy, use this function to send a large file can be reduced the operating system's CPU and memory footprint.
     <em>
     </em> This function like swoole_server-&gt;send are sending data to the client, except that sendfile specified file path.</li>
</ul>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$fd </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td>string</td>
                                <td>$filename </td>
                                <td><p>file absolute path, if the file does not exist will return false</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_bind" name="method_bind" class="anchor"></a>
            <article class="method">
                <h3 class="public ">bind()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">bind(integer  <span class="argument">$fd</span>, integer  <span class="argument">$uid</span>) : boolean</pre>
                <p><em>     * Bind a connection to workers process</em></p>
                <p>You can set dispatch_mode = 5 setting in order to stick an uid to a specific worker process.
     <em> In the default setting dispatch_mode = 2, server will dispatch socket fd connection to a different worker.
     </em> Because fd can be unstable (a client reconnects after disconnection), fd will change, so this client's data will be assigned to another Worker.
     <em> After using the bind &amp; set a user-defined ID. Even reconnection, the same TCP connection will be assigned the same Worker process.
     </em>
     <em> If you have already call bind on a connection, calling again will returns false
     </em> You can use the $serv-&gt;connection_info($fd) to see the connection bound uid</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>integer</td>
                                <td>$fd </td>
                                <td><p>file descriptor connected</p></td>
                            </tr>
                                                    <tr>
                                <td>integer</td>
                                <td>$uid </td>
                                <td><p>Specifies the UID</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    boolean
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                                                    </div>
    </section>

    <div id="source-view" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="source-view-label" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="source-view-label">swoole_server.php</h3>
        </div>
        <div class="modal-body">
            <pre data-src="../files/swoole_server.php.txt" class="language-php line-numbers"></pre>
        </div>
    </div>

    <footer class="row-fluid">
        <section class="span10 offset2">
            <section class="row-fluid">
                <section class="span10 offset1">
                    <section class="row-fluid footer-sections">
                        <section class="span4">
                                                        <h1><i class="icon-code"></i></h1>
                            <div>
                                <ul>
                                                                    </ul>
                            </div>
                        </section>
                        <section class="span4">
                                                        <h1><i class="icon-bar-chart"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../graphs/class.html">Class Hierarchy Diagram</a></li>
                                </ul>
                            </div>
                        </section>
                        <section class="span4">
                                                        <h1><i class="icon-pushpin"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../reports/errors.html">Errors</a></li>
                                    <li><a href="../reports/markers.html">Markers</a></li>
                                </ul>
                            </div>
                        </section>
                    </section>
                </section>
            </section>
            <section class="row-fluid">
                <section class="span10 offset1">
                    <hr />
                    Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor </a> and authored
                    on November 25th, 2015 at 17:43.
                </section>
            </section>
        </section>
    </footer>
</div>

</body>
</html>
